<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
    <meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0"/>
    <title>title</title>
    <link rel="stylesheet" type="text/css" href="../css/api.css"/>
    <style>
    	body {    width: 100%;
			margin:0;
			padding:0;
			background-color:#fff;
		}
		input,button,select,textarea{outline:none;-webkit-appearance:none;}
		#main{
			width: 100%;height: 100%;
		}
		.a{
            background-color:#eee !important;
        }  
		ul{
		
		}
		li{
			height:50px;
			line-height: 50px;
		}
		.title{
			margin:0 10px;
			height:50px;
			float:left;
		}
		.tu{
			background-image:url('../image/dui_hong.png');
			background-repeat: no-repeat;
			background-size:20px 15px;
			background-position:0 17px;
			height: 50px;
			width:20px;
			margin:0 10px;
			float:left;
			display:none;
		}
    </style>
</head>
<body>
<div id="main">
	<ul>
		<!--<li tapmode="a" onclick="fxuan(this);" address="1">
			<span class="title">北京</span>
			<span class="tu"></span>
		</li>
		<li tapmode="a" onclick="fxuan(this);" address="2">
			<span class="title">上海</span>
			<span class="tu"></span>
		</li>
		<li tapmode="a" onclick="fxuan(this);" address="3">
			<span class="title">天津</span>
			<span class="tu"></span>
		</li>
		<li tapmode="a" onclick="fxuan(this);" address="4">
			<span class="title">重庆</span>
			<span class="tu"></span>
		</li>
		<li tapmode="a" onclick="fxuan(this);" address="5">
			<span class="title">河北</span>
			<span class="tu"></span>
		</li>
		<li tapmode="a" onclick="fxuan(this);" address="6">
			<span class="title">山西</span>
			<span class="tu"></span>
		</li>
		<li tapmode="a" onclick="fxuan(this);" address="7">
			<span class="title">河南</span>
			<span class="tu"></span>
		</li>
		<li tapmode="a" onclick="fxuan(this);" address="8">
			<span class="title">辽宁</span>
			<span class="tu"></span>
		</li>
		<li tapmode="a" onclick="fxuan(this);" address="9">
			<span class="title">广东</span>
			<span class="tu"></span>
		</li>
		<li tapmode="a" onclick="fxuan(this);" address="10">
			<span class="title">广西</span>
			<span class="tu"></span>
		</li>
		<li tapmode="a" onclick="fxuan(this);" address="11">
			<span class="title">黑龙江</span>
			<span class="tu"></span>
		</li>
		<li tapmode="a" onclick="fxuan(this);" address="12">
			<span class="title">新疆</span>
			<span class="tu"></span>
		</li>-->
		
	</ul>
</div>	
</body>
<script type="text/javascript" src="../script/api.js"></script>
<script type="text/javascript">
	apiready = function(){
		var address_num=$api.getStorage("address_num");
		if(address_num==3) fcz2();
		else fcz();
	};
	function fcz()
	{
		var ret=$api.getStorage("address_list");
		var id=api.pageParam.id;
		var html='<ul>';
		for(var i=0;i<ret.length;i++)
		{
			if(ret[i].parentId==id)
			{
				html+='<li tapmode="a" onclick="fxuan(this);" address="'+ret[i].areaId+'">';
				html+='	<span class="title">'+ret[i].areaName+'</span>';
				html+='	<span class="tu"></span>';
				html+='</li>';
			}
		}
		html+='</ul>';
		document.getElementById("main").innerHTML=html;
		api.parseTapmode();
	}
	function fcz2()
	{
		var ret=$api.getStorage("address_list_communitys");
		var id=api.pageParam.id;
		var html='<ul>';
		for(var i=0;i<ret.length;i++)
		{
			if(ret[i].areaId3==id)
			{
				html+='<li tapmode="a" onclick="fxuan(this);" address="'+ret[i].communityId+'">';
				html+='	<span class="title">'+ret[i].communityName+'</span>';
				html+='	<span class="tu"></span>';
				html+='</li>';
			}
		}
		html+='</ul>';
		document.getElementById("main").innerHTML=html;
		api.parseTapmode();
	}
	function fxuan(obj)
	{
		obj.getElementsByClassName("tu")[0].style.display="block";
		var title=obj.getElementsByClassName("title")[0].innerHTML;
		var address=obj.getAttribute("address");
		api.execScript({
	       	frameName:'new_address_diqu',
	       	script: 'fset_xuan(\''+title+'\',\''+address+'\');'
        });
	}
</script>
</html>